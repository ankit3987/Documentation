## why k8 is needed when docker act similar

1. single host nature
   1. it has only single host 
   
2. auto healing 
   1. it mean container will start automatic if there are 1000 of containers then how to monitor all of the container then k8 gives autohealing allways docker ps is not used in 1000 of containers
   2. it will start mannualy not automatically it will start
   3. tough to track 10,000 container

3. auto scaling 
   1. if there are docker installed in the server and  only one container in the server and now the maximum utilization of that contianer is 4gb ram 4cpu and sudenlly user incresed by 10000 to 1 lack then we have to creaate 10 container for accesive users so we can create it manually and configure each contianer with other container apart of this we can do load blancing so it is manually done by devops engineer
   
4. very simplistic level of docker 
   1. it does not solve the enterprises level supports
      1. like load balancing 
      2. firwall
      3. heal
      4. api gateways

## how k8 solve these problem solutions:
k8 install as a cluster:-
1. (single host)
   1. cluster ------> group of nodes -------> master/node

2. (auto scalling)
   1. manually :- it has yaml file then we can edit that file with writing replicas:1 to 10
   2. atomatically :- HPA (horixzontal pod autoscaller) when container hit thresold of 80% then it will create next container
   
3. (auto healing):- it will control the damages, 
   1. for eg my container will go down ,so in case of docker i will check container by writing docker ps command and then i restart the conainer or build fresh contianer
   2. now in k8 will automatically start new container by (Api server), whenever api server reciving the server goes down it will rollout the a new container 

4. (enterprize level):- docker is not used in production level k8 not used in production level 

## k8s architecture 

**Pod - A Kubernetes pod is a collection of one or more containers, and is the smallest unit of a Kubernetes application**

- **Control plane (master node)**
1. api server (exposes to external world) - core component of k8s, accepts all incoming  reqs, exposes k8s to external world.

2. etcd (key value store) - cluster related infos, Backup service.

3. scheduler(Scheduling pods or resources in K8s) - receives info from api server & acts on it

4. controller manager - ensures controllers like replica set are running,(Example: Replica Set)

5. cloud controller manager(ccm) - No need for on-premice, like terraform

- **Data plane (Worker Node) â†’ 3 components:**
  
1. kubelet(Creating and managing  pod) - creates pod, ensures pod is always running

2. kube proxy(uses iptables in Linux machine) - provides networking like Docker0, default load balancing

3. container runtime(enviornment) - runs container inside pod